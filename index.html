<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Conversor</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
  <div class="w-full max-w-3xl bg-white p-6 rounded-2xl shadow-lg">
    <h1 class="text-2xl font-bold mb-4 text-center text-gray-800">Conversor de Texto</h1>

    <textarea id="inputText" rows="8" 
      class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-blue-400 focus:outline-none mb-4" 
      placeholder="Escribe aquÃ­..."></textarea>

    <div class="flex flex-wrap gap-2 mb-4 justify-center">
      <button onclick="convert('bold')" class="px-4 py-2 bg-blue-500 text-white rounded-lg shadow hover:bg-blue-600">Sans Bold</button>
      <button onclick="convert('italic')" class="px-4 py-2 bg-green-500 text-white rounded-lg shadow hover:bg-green-600">Sans Italic</button>
      <button onclick="convert('boldItalic')" class="px-4 py-2 bg-purple-500 text-white rounded-lg shadow hover:bg-purple-600">Sans Bold Italic</button>
      <button onclick="convert('bold','arequipa')" class="px-4 py-2 bg-orange-500 text-white rounded-lg shadow hover:bg-orange-600">Arequipa</button>
      <button onclick="convert('bold','moquegua')" class="px-4 py-2 bg-red-500 text-white rounded-lg shadow hover:bg-red-600">Moquegua</button>
      <button onclick="copyText()" class="px-4 py-2 bg-gray-700 text-white rounded-lg shadow hover:bg-gray-800">Copiar</button>
    </div>

    <pre id="output" 
      class="w-full p-4 border rounded-lg bg-gray-50 text-gray-800 whitespace-pre-wrap"></pre>
  </div>

  <script>
    // Mapas de estilos
    const boldMap = {
      "a":"ð—®","b":"ð—¯","c":"ð—°","d":"ð—±","e":"ð—²","f":"ð—³","g":"ð—´","h":"ð—µ","i":"ð—¶","j":"ð—·","k":"ð—¸","l":"ð—¹","m":"ð—º",
      "n":"ð—»","o":"ð—¼","p":"ð—½","q":"ð—¾","r":"ð—¿","s":"ð˜€","t":"ð˜","u":"ð˜‚","v":"ð˜ƒ","w":"ð˜„","x":"ð˜…","y":"ð˜†","z":"ð˜‡",
      "A":"ð—”","B":"ð—•","C":"ð—–","D":"ð——","E":"ð—˜","F":"ð—™","G":"ð—š","H":"ð—›","I":"ð—œ","J":"ð—","K":"ð—ž","L":"ð—Ÿ","M":"ð— ",
      "N":"ð—¡","O":"ð—¢","P":"ð—£","Q":"ð—¤","R":"ð—¥","S":"ð—¦","T":"ð—§","U":"ð—¨","V":"ð—©","W":"ð—ª","X":"ð—«","Y":"ð—¬","Z":"ð—­"
    };
    const italicMap = {};      
    const boldItalicMap = {};  

    function applyMap(text, map) {
      return text.split("").map(ch => map[ch] || ch).join("");
    }

    function convert(type, mode) {
      const text = document.getElementById("inputText").value;

      let map;
      if (type === "bold") map = boldMap;
      else if (type === "italic") map = italicMap;
      else if (type === "boldItalic") map = boldItalicMap;

      const parts = text.split("\n");
      let firstParagraph = parts[0];

      if (mode === "moquegua") {
        firstParagraph = firstParagraph.toLowerCase();
        firstParagraph = firstParagraph.charAt(0).toUpperCase() + firstParagraph.slice(1);
      }

      parts[0] = applyMap(firstParagraph, map);
      let converted = parts.join("\n");

      let prefix = "#LaGazzettaðŸ‘‡ðŸ“§âš¡ ";
      if (mode === "arequipa") prefix = "#Arequipa #LaGazzettaðŸ‘‡ðŸ“§âš¡ ";
      if (mode === "moquegua") prefix = "#Moquegua #LaGazzettaðŸ‘‡ðŸ“§âš¡ ";

      const result = prefix + converted;
      document.getElementById("output").textContent = result;

      // copiar automÃ¡ticamente para Arequipa y Moquegua
      if (mode === "arequipa" || mode === "moquegua") {
        copyToClipboard(result);
      }
    }

    function copyText() {
      const text = document.getElementById("output").textContent;
      copyToClipboard(text);
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        showToast("âœ… Texto copiado al portapapeles");
      }).catch(err => {
        console.error("âŒ Error al copiar: ", err);
      });
    }

    function showToast(message) {
      const toast = document.createElement("div");
      toast.textContent = message;
      toast.className = "fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg animate-bounce";
      document.body.appendChild(toast);
      setTimeout(() => toast.remove(), 2000);
    }
  </script>
</body>
</html>
